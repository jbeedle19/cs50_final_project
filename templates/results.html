{% extends "layout.html" %}

{% block title %}
    Results
{% endblock %}

{% block main %}
    {% if results %}
        <div>
            <h2>Search Results for "{{title}}":</h2>
            <table>
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Poster</th>
                        <th>Description</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for result in results %}
                        <tr>
                            <form action="/details" method="post">
                                <td>
                                    <input class="hide-input" name="title" value="{{ result["title"] }}">
                                    {{ result["title"] }}</td>
                                <td>
                                    <input class="hide-input" name="image" value="{{ result["image"] }}">
                                    <img src="{{ result["image"] }}" alt="{{ result["title"] }} poster" width="65" height="100">
                                </td>
                                <td>
                                    <input class="hide-input" name="description" value="{{ result["description"] }}">
                                    {{ result["description"] }}
                                </td>
                                <td>
                                    <button class="btn btn-primary" name="imdbID" type="submit" value="{{ result["id"] }}">Details</button>
                                </td>
                            </form>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div>
            <h2>Hmm, no results found ðŸ¤”</h2>
        </div>
    {% endif %}
{% endblock %}